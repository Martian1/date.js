Date.prototype.format=function(a){if(a){return a.replace(/Y+/,this.getFullYear()).replace(/M+/,+this.getMonth()+1).replace(/D+/,this.getDate()).replace(/h+/,this.getHours()).replace(/m+/,this.getMinutes()).replace(/s+/,this.getSeconds())}};Date.prototype.getWeek=function(b){var a={"0":{"0":"星期天","1":"星期一","2":"星期二","3":"星期三","4":"星期四","5":"星期五","6":"星期六"},"1":{"0":"周日","1":"周一","2":"周二","3":"周三","4":"周四","5":"周五","6":"周六"},"2":{"0":"Sunday","1":"Monday","2":"Tuesday","3":"Wednesday","4":"Thursday","5":"Friday","6":"Saturday"}};b?"":b="0";return a[b][this.getDay()]};Date.prototype.isLeap=function(){var a=+this.getFullYear();return !(a%(a%100?4:400))};Date.prototype.add=function(a,b){if(!a){return this}switch(b){case"year":this.setFullYear(+this.getFullYear()+a);break;case"month":this.setMonth(+this.getMonth()+a);break;case"day":this.setDate(+this.getDate()+a);break;case"hour":this.setHours(+this.getHours()+a);break;case"minute":this.setMinutes(+this.getMinutes()+a);break;case"second":this.setSeconds(+this.getSeconds()+a);break;case"ms":this.setMilliseconds(+this.getMilliseconds()+a);break}return this};Date.prototype.sub=function(a,b){if(!a){return this}switch(b){case"year":this.setFullYear(+this.getFullYear()-a);break;case"month":this.setMonth(+this.getMonth()-a);break;case"day":this.setDate(+this.getDate()-a);break;case"hour":this.setHours(+this.getHours()-a);break;case"minute":this.setMinutes(+this.getMinutes()-a);break;case"second":this.setSeconds(+this.getSeconds()-a);break;case"ms":this.setMilliseconds(+this.getMilliseconds()-a);break}return this};